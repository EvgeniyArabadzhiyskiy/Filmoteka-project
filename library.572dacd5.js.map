{"mappings":"gfAAAA,EAAA,S,yCCEMC,GAFNC,EAAAF,EAAA,SAEuBG,SAASC,cAAc,gBACxCC,EAAiBF,SAASC,cAAc,oBAE9C,SAASE,EAAoBC,GA4BzB,IA3BA,IAIQC,EAHJC,EAAeC,KAAKC,KAAKJ,EAAOK,OADhB,GAGhBC,EAGO,SAASC,GACRN,GACAA,EAAOO,UAAUC,OAAO,gBAE5BR,EAASM,EAETA,EAAKC,UAAUE,IAAI,gBAEnB,IAEIC,EAhBQ,GAcEJ,EAAKK,UAEI,GACnBC,EAAMF,EAjBE,EAmBRG,EAAQd,EAAOe,MAAMJ,EAAOE,GAEhCf,EAAec,UAAY,IAC3B,EAAAjB,EAAAqB,SAAcF,IAIlBG,EAAQ,GACHC,EAAI,EAAGA,GAAKhB,EAAcgB,IAAK,CACpC,IAAIC,EAAKvB,SAASwB,cAAc,MAChCD,EAAGX,UAAUE,IAAI,mBACjBS,EAAGX,UAAUE,IAAI,oBACjBS,EAAGE,YAAcH,EACjBxB,EAAe4B,YAAYH,GAC3BF,EAAMM,KAAKJ,GAGfb,EAASW,EAAM,I,IAEVO,GAAQ,EAARC,GAAQ,EAARC,OAAQC,E,IAAb,QAAKC,EAAAC,EAAYZ,EAAKa,OAAAC,cAAjBP,GAAAI,EAAAC,EAAQG,QAAAC,MAART,GAAQ,GAARI,EAAQM,MACJC,iBAAiB,SAAS,WAC3B7B,EAAS8B,MACTC,OAAOC,OAAO,CACVC,IAAK,EACLC,KAAM,EACNC,SAAU,e,SANjBhB,GAAQ,EAARC,EAAQgB,E,YAARlB,GAAQ,MAARK,EAAQc,QAARd,EAAQc,S,WAARlB,E,MAAAC,IDtCT,IAAIkB,EAAU,GACVC,EAAQ,GAENC,EAAO,CACTC,WAAYnD,SAASC,cAAc,oBACnCmD,cAAepD,SAASC,cAAc,iCACtCoD,YAAarD,SAASC,cAAc,+BACpCqD,eAAgBtD,SAASC,cAAc,oBACvCsD,WAAYvD,SAASC,cAAc,eACnCuD,yBAA0BxD,SAASC,cAAc,8BAiBrD,SAASwD,IACLC,eAAeC,QAAQ,2BAA4B,WACnD,IAAIC,EAAc,GAClBV,EAAKE,cAAcxC,UAAUE,IAAI,yBACjCoC,EAAKG,YAAYzC,UAAUC,OAAO,yBAClC,IAAIgD,EAAaC,aAAaC,QAAQ,WACtC,GAAIF,EACA,IAEID,GADAZ,EAAUgB,KAAKC,MAAMJ,IACC1C,MAAM,EAAG,GACjC,MAAO+C,GACLC,QAAQC,IAAIF,GAGuC,YAAvDR,eAAeK,QAAQ,8BACvB,EAAAhE,EAAAqB,SAAcwC,GAElBV,EAAKK,WAAWvC,UAAY,GACxBgC,EAAQvC,OAAS,GAClBN,EAAoB6C,GAI3B,SAASqB,IACLX,eAAeC,QAAQ,2BAA4B,SACnD,IAAIW,EAAY,GAChBpB,EAAKG,YAAYzC,UAAUE,IAAI,yBAC/BoC,EAAKE,cAAcxC,UAAUC,OAAO,yBACpC,IAAI0D,EAAWT,aAAaC,QAAQ,SACpC,GAAIQ,EACA,IAEID,GADArB,EAAQe,KAAKC,MAAMM,IACDpD,MAAM,EAAG,GAC7B,MAAO+C,GACLC,QAAQC,IAAIF,GAGuC,UAAvDR,eAAeK,QAAQ,8BACtB,EAAAhE,EAAAqB,SAAckD,GAEnBpB,EAAKK,WAAWvC,UAAY,GACxBiC,EAAMxC,OAAS,GAChBN,EAAoB8C,GAxDa,OAApCa,aAAaC,QAAQ,aACrBb,EAAKI,eAAetC,UAAa,8EAErC,EAAAwD,EAAApD,SAAU8B,EAAKC,YAC4C,UAAvDO,eAAeK,QAAQ,4BACvBM,IAGAZ,IAGJP,EAAKE,cAAcb,iBAAiB,QAASkB,GAC7CP,EAAKG,YAAYd,iBAAiB,QAAS8B,G","sources":["src/js/library.js","src/js/paginationLibrary.js"],"sourcesContent":["import \"./darkThema\";\nimport \"./cursor\";\nimport openModal from \"./modal-open\";\nimport renderLibrary from './templates/movieCardLibrary';\nimport { renderPaginationBTN } from './paginationLibrary';\n\nlet watched = [];\nlet queue = [];\n\nconst refs = {\n    moviesList: document.querySelector('.movie-card-list'),\n    watchedMovies: document.querySelector('button[data-action=\"watched\"]'),\n    queueMovies: document.querySelector('button[data-action=\"queue\"]'),\n    sectionLibrary: document.querySelector('.section-library'),\n    pagination: document.querySelector('.pagination'),\n    libraryNavigationLinkBtn: document.querySelector('.library-navigation__link'),\n}\n\nif (localStorage.getItem('watched') === null) {\n    refs.sectionLibrary.innerHTML = `<h3 class=\"empty-container\">Sorry, but this section is still empty:(</h3>`;\n}\nopenModal(refs.moviesList);\nif (sessionStorage.getItem('last-pressed-library-btn') === 'queue') {\n    onQueueMoviesClick();\n}\nelse {\n    onWatchedMoviesClick();\n}\n\nrefs.watchedMovies.addEventListener('click', onWatchedMoviesClick);\nrefs.queueMovies.addEventListener('click', onQueueMoviesClick);\n\nfunction onWatchedMoviesClick() {\n    sessionStorage.setItem('last-pressed-library-btn', 'watched');\n    let currWatched = [];\n    refs.watchedMovies.classList.add('library-btn__isActive');\n    refs.queueMovies.classList.remove('library-btn__isActive');\n    let watchedKey = localStorage.getItem('watched');\n    if (watchedKey) {\n        try {\n            watched = JSON.parse(watchedKey);\n            currWatched = watched.slice(0, 9);\n        } catch (e) {\n            console.log(e);\n        }\n    }\n    if (sessionStorage.getItem('last-pressed-library-btn') === 'watched') {\n        renderLibrary(currWatched);\n    }\n    refs.pagination.innerHTML = '';\n    if (watched.length > 9) {\n       renderPaginationBTN(watched);\n    }\n}\n\nfunction onQueueMoviesClick() {\n    sessionStorage.setItem('last-pressed-library-btn', 'queue');\n    let currQueue = [];\n    refs.queueMovies.classList.add('library-btn__isActive');\n    refs.watchedMovies.classList.remove('library-btn__isActive');\n    let queueKey = localStorage.getItem('queue');\n    if (queueKey) {\n        try {\n            queue = JSON.parse(queueKey);\n            currQueue = queue.slice(0, 9);\n        } catch (e) {\n            console.log(e);\n        }\n    }\n    if (sessionStorage.getItem('last-pressed-library-btn') === 'queue') {\n         renderLibrary(currQueue);\n     }\n    refs.pagination.innerHTML = '';\n    if (queue.length > 9) {\n       renderPaginationBTN(queue);\n    }\n\n}\n","import renderLibrary from './templates/movieCardLibrary';\n\nconst paginationList = document.querySelector('.pagination');\nconst cardsContainer = document.querySelector('.movie-card-list');\n\nfunction renderPaginationBTN(arrays) {\n    const notesOnPage = 9;\n    let countOfItems = Math.ceil(arrays.length / notesOnPage);\n\n    let showPage = (function() {\n        let active;\n        \n        return function(item) {\n            if (active) {\n                active.classList.remove('current-page');\n            }\n            active = item;\n            \n            item.classList.add('current-page');\n            \n            let pageNum = item.innerHTML;\n            \n            let start = (pageNum - 1) * notesOnPage;\n            let end = start + notesOnPage;\n            \n            let notes = arrays.slice(start, end);\n            \n            cardsContainer.innerHTML = '';\n            renderLibrary(notes);\n        };\n    }());\n\n    let items = [];\n    for (let i = 1; i <= countOfItems; i++) {\n        let li = document.createElement('li');\n        li.classList.add('pagination-item');\n        li.classList.add('pagination-pages');\n        li.textContent = i;\n        paginationList.appendChild(li);\n        items.push(li);\n    }\n\n    showPage(items[0]);\n\n    for (let item of items) {\n        item.addEventListener('click', function() {\n            showPage(this);\n            window.scroll({\n                top: 0,\n                left: 0,\n                behavior: 'smooth'\n            });\n        });\n    }\n}\n\nfunction resetPagination() {\n    paginationList.innerHTML = '';\n}\n\nexport { renderPaginationBTN };\nexport { resetPagination };"],"names":["parcelRequire","$c92d99e6b7b7014c$var$paginationList","$eZz2b","document","querySelector","$c92d99e6b7b7014c$var$cardsContainer","$c92d99e6b7b7014c$export$e4c4dd24c1fe32c2","arrays","active","countOfItems","Math","ceil","length","showPage","item","classList","remove","add","start","innerHTML","end","notes","slice","default","items","i","li","createElement","textContent","appendChild","push","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","addEventListener","this","window","scroll","top","left","behavior","err","return","$93effc6fc56091ad$var$watched","$93effc6fc56091ad$var$queue","$93effc6fc56091ad$var$refs","moviesList","watchedMovies","queueMovies","sectionLibrary","pagination","libraryNavigationLinkBtn","$93effc6fc56091ad$var$onWatchedMoviesClick","sessionStorage","setItem","currWatched","watchedKey","localStorage","getItem","JSON","parse","e","console","log","$93effc6fc56091ad$var$onQueueMoviesClick","currQueue","queueKey","$1vR0Z"],"version":3,"file":"library.572dacd5.js.map"}