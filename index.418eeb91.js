!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=e.parcelRequire37c5;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){a[t]=e},e.parcelRequire37c5=o),o("iE7OH").register(JSON.parse('{"EVgbq":"index.418eeb91.js","jEEqz":"no-poster.325dd571.jpg","5UbS1":"index.1a2dc069.css","5yY5W":"index.bf407190.js"}'));var i=o("bpxeT"),r=o("2TvXO");o("gpER8"),o("jjs5m");var c,s=o("dh4R1");c=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("jEEqz");function d(e,n){var a=null==n?void 0:n.genres;return e.map((function(e){var n=e.poster_path,o=e.original_title,i=e.release_date,r=e.genre_ids,s=e.id;""===o&&(o="Sorry, no title for the movie."),i||(i="Expected");var d=r.reduce((function(t,e,n){if(!r.length)return t;if(n<=1){var o=null==a?void 0:a.find((function(t){return t.id===e}));return n<=r.length-2?t+(null==o?void 0:o.name)+", ":t+(null==o?void 0:o.name)+" "}return 2===n?t+"Others":t}),""),l=a?d:"Other",u=null==i?void 0:i.split("-").slice(0,1);return{id:s,imagePoster:n?"".concat("https://image.tmdb.org/t/p/w500").concat(n):t(c),original_title:o,releaseYear:u,fullGenresNames:l}}))}s=o("dh4R1"),s=o("dh4R1");var l,u=o("9DJey"),p=document.querySelector(".pagination"),f=document.querySelector(".movie-card-list"),g=0;function m(t,e){var n="",a=e-2,o=e-1,i=e+1,r=e+2;g=e,t<=1||(e>1&&(n+='<li class="pagination-item pagination-arrow">&laquo</li>'),e>3&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(n+='<li class="pagination-item pagination-pages">1</li>')),e>2&&(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e>4&&(n+='<li class="pagination-item">...</li>'),a>0&&(n+='<li class="pagination-item pagination-pages">'.concat(a,"</li>"))),o>0&&(n+='<li class="pagination-item pagination-pages">'.concat(o,"</li>")),n+='<li class="pagination-item pagination-pages current-page">'.concat(e,"</li>"),e<t&&(n+='<li class="pagination-item pagination-pages">'.concat(i,"</li>")),e<t-1&&(e<t-2&&(n+='<li class="pagination-item pagination-pages">'.concat(r,"</li>"),!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e<t-3&&(n+='<li class="pagination-item">...</li>')),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(n+='<li class="pagination-item pagination-pages">'.concat(t,"</li>"))),e<t&&(n+='<li class="pagination-item pagination-arrow">&raquo</li>'),p.innerHTML=n,p.addEventListener("click",v))}function v(e){if("LI"===e.target.nodeName){var n=e.target.textContent;switch(n){case"«":g-=1;break;case"»":g+=1;break;case"...":return;default:g=n}f.innerHTML="",t(u).start(),s.default.fetchGenresList().then((function(t){l=t})),s.input.value?s.default.movieSearch(g).then((function(e){t(u).done(),d(e.results,l),m(e.total_pages,e.page)})).catch((function(t){return console.log(t)})):s.default.fetchTrendData(g).then((function(e){t(u).done(),d(e.results,l),m(e.total_pages,e.page)})).catch((function(t){return console.log(t)}))}}o("kaULx");var h,b=o("1vR0Z"),y=(s=o("dh4R1"),u=o("9DJey"),s=o("dh4R1"),document.querySelector(".form__search")),x=document.querySelector(".movie-card-list"),w=document.querySelector(".search__error");s.default.fetchGenresList().then((function(t){h=t})),null==y||y.addEventListener("submit",(function(e){if(e.preventDefault(),!s.input.value)return w.textContent="Search field is empty. Enter movie name and push search button",void(w.style.display="block");t(u).start(),s.default.movieSearch().then((function(e){0===e.total_results?(w.textContent="Search result is not successful. Enter the correct movie name and push search button",w.style.display="block"):(w.style.display="none",x.innerHTML="",p.innerHTML="",d(e.results,h),m(e.total_pages,e.page),t(u).done())})).catch((function(t){return console.log(t)})),t(u).done()}));u=o("9DJey");o("ghnK3");var S=o("e1ad9"),E=(b=o("1vR0Z"),document.querySelector(".mySwiper"));(0,b.default)(E);new(0,S.default)(".mySwiper",{modules:[S.Navigation,S.Autoplay],spaceBetween:5,breakpointsBase:"container",autoplay:{delay:2e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{210:{slidesPerView:2},600:{slidesPerView:6},768:{slidesPerView:8}}});var _=document.querySelector(".swiper-wrapper");function k(e){var n=e.map((function(e){var n=e.poster_path,a=e.id,o=n?"".concat("https://image.tmdb.org/t/p/w500").concat(n):t(c);return'<div class="swiper-slide">\n\t\t\t\t<img src="'.concat(o,'" alt="poster" class="slide-poster" data-id="').concat(a,'"/>\n\t\t\t</div>')})).join("");_.insertAdjacentHTML("beforeend",n)}var L,q,M={};function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}L="undefined"!=typeof self?self:void 0,q=function(t){t.addBackToTop=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.backgroundColor,n=void 0===e?"#000":e,a=t.cornerOffset,o=void 0===a?20:a,i=t.diameter,r=void 0===i?56:i,c=t.ease,s=void 0===c?z:c,d=t.id,l=void 0===d?"back-to-top":d,u=t.innerHTML,p=void 0===u?'<svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg>':u,f=t.onClickScrollTo,g=void 0===f?0:f,m=t.scrollContainer,v=void 0===m?document.body:m,h=t.scrollDuration,b=void 0===h?100:h,y=t.showWhenScrollTopIs,x=void 0===y?1:y,w=t.size,S=void 0===w?r:w,E=t.textColor,_=void 0===E?"#fff":E,k=t.zIndex,L=void 0===k?1:k,q=v===document.body,M=q&&document.documentElement;H();var T=R(),O=!0,A=q?window:v;function C(){I()>=x?N():P()}function N(){O&&(T.className="",O=!1)}function P(){O||(T.className="hidden",O=!0)}function R(){var t=document.createElement("div");return t.id=l,t.className="hidden",t.innerHTML=p,t.addEventListener("click",(function(t){t.preventDefault(),B()})),document.body.appendChild(t),t}function H(){var t=Math.round(.43*S),e=Math.round(.29*S),a="#"+l+"{background:"+n+";-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:"+o+"px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:"+_+";cursor:pointer;display:block;height:"+S+"px;opacity:1;outline:0;position:fixed;right:"+o+"px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:"+S+"px;z-index:"+L+"}#"+l+" svg{display:block;fill:currentColor;height:"+t+"px;margin:"+e+"px auto 0;width:"+t+"px}#"+l+".hidden{bottom:-"+S+"px;opacity:0}",i=document.createElement("style");i.appendChild(document.createTextNode(a)),document.head.insertAdjacentElement("afterbegin",i)}function B(){var t="function"==typeof g?g():g,e=window,n=e.performance,a=e.requestAnimationFrame;if(b<=0||void 0===n||void 0===a)return j(t);var o=n.now(),i=I(),r=i-t;a((function t(e){var n=Math.min((e-o)/b,1);j(i-Math.round(s(n)*r)),n<1&&a(t)}))}function I(){return v.scrollTop||M&&document.documentElement.scrollTop||0}function j(t){v.scrollTop=t,M&&(document.documentElement.scrollTop=t)}function z(t){return.5*(1-Math.cos(Math.PI*t))}A.addEventListener("scroll",C),C()}},"function"==typeof define&&define.amd?define(["exports"],q):"object"===T(M)&&"string"!=typeof M.nodeName?q(M):q(L.commonJsStrict={}),(0,M.addBackToTop)({diameter:40,backgroundColor:"#f7f7f7",textColor:"#FF6B01"});var O,A=o("eMaQ6"),C=o("7LMqv"),N=(document.querySelector(".btn-watched"),document.querySelector(".movie-card-list")),P=JSON.parse(localStorage.getItem("watched"))?JSON.parse(localStorage.getItem("watched")):[],R=JSON.parse(localStorage.getItem("queue"))?JSON.parse(localStorage.getItem("queue")):[];function H(){return(H=t(i)(t(r).mark((function e(n){var a,o;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.target.dataset.target){t.next=2;break}return t.abrupt("return");case 2:return a=n.target.dataset.id,t.next=5,s.default.fetchFullMovieInfo(a);case 5:if(o=t.sent,"watched"!==n.target.dataset.target){t.next=14;break}if(n.target.classList.toggle("pressed"),!n.target.classList.contains("pressed")){t.next=12;break}return n.target.textContent="Remove from Watched",(0,A.default)(o,P,n.target.dataset.target),t.abrupt("return");case 12:n.target.textContent="Add to Watched",(0,C.default)(a,P,n.target.dataset.target);case 14:if("queue"!==n.target.dataset.target){t.next=22;break}if(n.target.classList.toggle("pressed"),!n.target.classList.contains("pressed")){t.next=20;break}return n.target.textContent="Remove from Queue",(0,A.default)(o,R,n.target.dataset.target),t.abrupt("return");case 20:n.target.textContent="Add to Queue",(0,C.default)(a,R,n.target.dataset.target);case 22:case"end":return t.stop()}}),e)})))).apply(this,arguments)}t(u).start(),(0,b.default)(N),s.default.fetchGenresList().then((function(t){O=t})),s.default.fetchTrendData().then((function(t){var e=d(t.results,O),n=e.map((function(t){var e=t.id,n=t.imagePoster,a=t.original_title,o=t.releaseYear,i=t.fullGenresNames;return'<li  class="movie-card-item">\n    \t\t\t\t<div class="movie-poster__container">\n    \t\t\t\t\t<img src="'.concat(n,'" alt="poster" class="imagePoster" data-id="').concat(e,'"/>\n\t\t\t\t\t\t<div class="btn-box">\n\t\t\t\t\t\t\t<button class="btn-watche" data-id="').concat(e,'" data-target="watched">add to <br class="transfer" />Watched</button>\n\t\t\t\t\t\t\t<button class="btn-queue" data-id="').concat(e,'" data-target="queue">add to queue</button>\n\t\t\t\t  \t\t</div> \n    \t\t\t\t</div>\n    \t\t\t\t<div class="movie-card-item__info">\n    \t\t\t\t\t<h2 class="movie-card-item__title" data-id="').concat(e,'">').concat(a,'</h2>\n    \t\t\t\t\t<p class="movie-card-item__text">').concat(i," | ").concat(o," </p>\n    \t\t\t\t</div>\n\t\t\t\t\t\t\n    \t\t\t</li>")})).join("");N.insertAdjacentHTML("beforeend",n),k(t.results);var a=document.querySelectorAll(".btn-watche"),o=document.querySelectorAll(".btn-queue");a.forEach((function(t){P.forEach((function(e){e.id===Number(t.dataset.id)&&(t.classList.add("pressed"),t.textContent="Remove from Watched")}))})),o.forEach((function(t){R.forEach((function(e){e.id===Number(t.dataset.id)&&(t.classList.add("pressed"),t.textContent="Remove from Queue")}))})),m(t.total_pages,t.page)})).catch((function(t){return console.log(t)})),t(u).done(),N.addEventListener("click",(function(t){return H.apply(this,arguments)}))}();
//# sourceMappingURL=index.418eeb91.js.map
