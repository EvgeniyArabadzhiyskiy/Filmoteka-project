function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=e.parcelRequire37c5;null==a&&((a=function(t){if(t in o)return o[t].exports;if(t in n){var e=n[t];delete n[t];var a={id:t,exports:{}};return o[t]=a,e.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){n[t]=e},e.parcelRequire37c5=a),a("kyEFX").register(JSON.parse('{"5ZPII":"index.2b246a01.js","5JHSy":"no-poster.325dd571.jpg","5UbS1":"index.1a2dc069.css","1x9ka":"index.2cb201a1.js"}')),a("5yYHI"),a("kBf9a");var i,r=a("iyB0E");i=new URL(a("kyEFX").resolve("5JHSy"),import.meta.url).toString();function s(e,o){const n=null==o?void 0:o.genres;return e.map((({poster_path:e,original_title:o,release_date:a,genre_ids:r,id:s})=>{""===o&&(o="Sorry, no title for the movie."),a||(a="Expected");const l=r.reduce(((t,e,o)=>{if(!r.length)return t;if(o<=1){const a=null==n?void 0:n.find((({id:t})=>t===e));return o<=r.length-2?t+(null==a?void 0:a.name)+", ":t+(null==a?void 0:a.name)+" "}return 2===o?t+"Others":t}),""),d=n?l:"Other",c=null==a?void 0:a.split("-").slice(0,1);return{id:s,imagePoster:e?`https://image.tmdb.org/t/p/w500${e}`:t(i),original_title:o,releaseYear:c,fullGenresNames:d}}))}r=a("iyB0E"),r=a("iyB0E");var l=a("k6WP2");const d=document.querySelector(".pagination"),c=document.querySelector(".movie-card-list");let u,p=0;function g(t,e){let o="",n=e-2,a=e-1,i=e+1,r=e+2;p=e,t<=1||(e>1&&(o+='<li class="pagination-item pagination-arrow">&laquo</li>'),e>3&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(o+='<li class="pagination-item pagination-pages">1</li>')),e>2&&(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e>4&&(o+='<li class="pagination-item">...</li>'),n>0&&(o+=`<li class="pagination-item pagination-pages">${n}</li>`)),a>0&&(o+=`<li class="pagination-item pagination-pages">${a}</li>`),o+=`<li class="pagination-item pagination-pages current-page">${e}</li>`,e<t&&(o+=`<li class="pagination-item pagination-pages">${i}</li>`),e<t-1&&(e<t-2&&(o+=`<li class="pagination-item pagination-pages">${r}</li>`,!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e<t-3&&(o+='<li class="pagination-item">...</li>')),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(o+=`<li class="pagination-item pagination-pages">${t}</li>`)),e<t&&(o+='<li class="pagination-item pagination-arrow">&raquo</li>'),d.innerHTML=o,d.addEventListener("click",m))}function m(e){if("LI"!==e.target.nodeName)return;const o=e.target.textContent;switch(o){case"«":p-=1;break;case"»":p+=1;break;case"...":return;default:p=o}c.innerHTML="",t(l).start(),r.default.fetchGenresList().then((t=>{u=t})),r.input.value?r.default.movieSearch(p).then((e=>{t(l).done(),s(e.results,u),g(e.total_pages,e.page)})).catch((t=>console.log(t))):r.default.fetchTrendData(p).then((e=>{t(l).done(),s(e.results,u),g(e.total_pages,e.page)})).catch((t=>console.log(t)))}a("l1016");var f=a("eS71k");r=a("iyB0E"),l=a("k6WP2"),r=a("iyB0E");const h=document.querySelector(".form__search"),v=document.querySelector(".movie-card-list"),b=document.querySelector(".search__error");let y;r.default.fetchGenresList().then((t=>{y=t})),null==h||h.addEventListener("submit",(function(e){if(e.preventDefault(),!r.input.value)return b.textContent="Search field is empty. Enter movie name and push search button",void(b.style.display="block");t(l).start(),r.default.movieSearch().then((e=>{0===e.total_results?(b.textContent="Search result is not successful. Enter the correct movie name and push search button",b.style.display="block"):(b.style.display="none",v.innerHTML="",d.innerHTML="",s(e.results,y),g(e.total_pages,e.page),t(l).done())})).catch((t=>console.log(t))),t(l).done()}));l=a("k6WP2");a("baGT8");var w=a("iB56l");f=a("eS71k");const S=document.querySelector(".mySwiper");(0,f.default)(S);new(0,w.default)(".mySwiper",{modules:[w.Navigation,w.Autoplay],spaceBetween:5,breakpointsBase:"container",autoplay:{delay:2e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{210:{slidesPerView:2},600:{slidesPerView:6},768:{slidesPerView:8}}});const x=document.querySelector(".swiper-wrapper");function k(e){const o=e.map((({poster_path:e,id:o})=>`<div class="swiper-slide">\n\t\t\t\t<img src="${e?`https://image.tmdb.org/t/p/w500${e}`:t(i)}" alt="poster" class="slide-poster" data-id="${o}"/>\n\t\t\t</div>`)).join("");x.insertAdjacentHTML("beforeend",o)}var E,_,L={};function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}E="undefined"!=typeof self?self:void 0,_=function(t){t.addBackToTop=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.backgroundColor,o=void 0===e?"#000":e,n=t.cornerOffset,a=void 0===n?20:n,i=t.diameter,r=void 0===i?56:i,s=t.ease,l=void 0===s?R:s,d=t.id,c=void 0===d?"back-to-top":d,u=t.innerHTML,p=void 0===u?'<svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg>':u,g=t.onClickScrollTo,m=void 0===g?0:g,f=t.scrollContainer,h=void 0===f?document.body:f,v=t.scrollDuration,b=void 0===v?100:v,y=t.showWhenScrollTopIs,w=void 0===y?1:y,S=t.size,x=void 0===S?r:S,k=t.textColor,E=void 0===k?"#fff":k,_=t.zIndex,L=void 0===_?1:_,M=h===document.body,T=M&&document.documentElement;N();var q=H(),P=!0,A=M?window:h;function B(){I()>=w?O():C()}function O(){P&&(q.className="",P=!1)}function C(){P||(q.className="hidden",P=!0)}function H(){var t=document.createElement("div");return t.id=c,t.className="hidden",t.innerHTML=p,t.addEventListener("click",(function(t){t.preventDefault(),$()})),document.body.appendChild(t),t}function N(){var t=Math.round(.43*x),e=Math.round(.29*x),n="#"+c+"{background:"+o+";-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:"+a+"px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:"+E+";cursor:pointer;display:block;height:"+x+"px;opacity:1;outline:0;position:fixed;right:"+a+"px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:"+x+"px;z-index:"+L+"}#"+c+" svg{display:block;fill:currentColor;height:"+t+"px;margin:"+e+"px auto 0;width:"+t+"px}#"+c+".hidden{bottom:-"+x+"px;opacity:0}",i=document.createElement("style");i.appendChild(document.createTextNode(n)),document.head.insertAdjacentElement("afterbegin",i)}function $(){var t="function"==typeof m?m():m,e=window,o=e.performance,n=e.requestAnimationFrame;if(b<=0||void 0===o||void 0===n)return F(t);var a=o.now(),i=I(),r=i-t;n((function t(e){var o=Math.min((e-a)/b,1);F(i-Math.round(l(o)*r)),o<1&&n(t)}))}function I(){return h.scrollTop||T&&document.documentElement.scrollTop||0}function F(t){h.scrollTop=t,T&&(document.documentElement.scrollTop=t)}function R(t){return.5*(1-Math.cos(Math.PI*t))}A.addEventListener("scroll",B),B()}},"function"==typeof define&&define.amd?define(["exports"],_):"object"===M(L)&&"string"!=typeof L.nodeName?_(L):_(E.commonJsStrict={}),(0,L.addBackToTop)({diameter:40,backgroundColor:"#f7f7f7",textColor:"#FF6B01"});var T=a("ejlBz"),q=a("lEkuA");let P;document.querySelector(".btn-watched");const A=document.querySelector(".movie-card-list");let B=JSON.parse(localStorage.getItem("watched"))?JSON.parse(localStorage.getItem("watched")):[],O=JSON.parse(localStorage.getItem("queue"))?JSON.parse(localStorage.getItem("queue")):[];t(l).start(),(0,f.default)(A),r.default.fetchGenresList().then((t=>{P=t})),r.default.fetchTrendData().then((t=>{const e=s(t.results,P),o=e.map((({id:t,imagePoster:e,original_title:o,releaseYear:n,fullGenresNames:a})=>`<li  class="movie-card-item">\n    \t\t\t\t<div class="movie-poster__container">\n    \t\t\t\t\t<img src="${e}" alt="poster" class="imagePoster" data-id="${t}"/>\n\t\t\t\t\t\t<div class="btn-box">\n\t\t\t\t\t\t\t<button class="btn-watche" data-id="${t}" data-target="watched">add to <br class="transfer" />Watched</button>\n\t\t\t\t\t\t\t<button class="btn-queue" data-id="${t}" data-target="queue">add to queue</button>\n\t\t\t\t  \t\t</div> \n    \t\t\t\t</div>\n    \t\t\t\t<div class="movie-card-item__info">\n    \t\t\t\t\t<h2 class="movie-card-item__title" data-id="${t}">${o}</h2>\n    \t\t\t\t\t<p class="movie-card-item__text">${a} | ${n} </p>\n    \t\t\t\t</div>\n\t\t\t\t\t\t\n    \t\t\t</li>`)).join("");A.insertAdjacentHTML("beforeend",o),k(t.results);const n=document.querySelectorAll(".btn-watche"),a=document.querySelectorAll(".btn-queue");n.forEach((t=>{B.forEach((e=>{e.id===Number(t.dataset.id)&&(t.classList.add("pressed"),t.textContent="Remove from Watched")}))})),a.forEach((t=>{O.forEach((e=>{e.id===Number(t.dataset.id)&&(t.classList.add("pressed"),t.textContent="Remove from Queue")}))})),g(t.total_pages,t.page)})).catch((t=>console.log(t))),t(l).done(),A.addEventListener("click",(async function(t){if(!t.target.dataset.target)return;const e=t.target.dataset.id,o=await r.default.fetchFullMovieInfo(e);if("watched"===t.target.dataset.target){if(t.target.classList.toggle("pressed"),t.target.classList.contains("pressed"))return t.target.textContent="Remove from Watched",void(0,T.default)(o,B,t.target.dataset.target);t.target.textContent="Add to Watched",(0,q.default)(e,B,t.target.dataset.target)}if("queue"===t.target.dataset.target){if(t.target.classList.toggle("pressed"),t.target.classList.contains("pressed"))return t.target.textContent="Remove from Queue",void(0,T.default)(o,O,t.target.dataset.target);t.target.textContent="Add to Queue",(0,q.default)(e,O,t.target.dataset.target)}}));
//# sourceMappingURL=index.2b246a01.js.map
