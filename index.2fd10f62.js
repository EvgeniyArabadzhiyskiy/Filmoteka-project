!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=e.parcelRequire37c5;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){a[t]=e},e.parcelRequire37c5=o),o("iE7OH").register(JSON.parse('{"EVgbq":"index.2fd10f62.js","jEEqz":"no-poster.325dd571.jpg","5UbS1":"index.19b7ffc9.css","5yY5W":"index.458623ce.js"}'));var r=o("bpxeT"),i=o("2TvXO");o("gpER8"),o("jjs5m");var c,s=o("dh4R1");c=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("jEEqz");function d(e,n){var a=null==n?void 0:n.genres;return e.map((function(e){var n=e.poster_path,o=e.original_title,r=e.release_date,i=e.genre_ids,s=e.id;""===o&&(o="Sorry, no title for the movie."),r||(r="Expected");var d=i.reduce((function(t,e,n){if(!i.length)return t;if(n<=1){var o=null==a?void 0:a.find((function(t){return t.id===e}));return n<=i.length-2?t+(null==o?void 0:o.name)+", ":t+(null==o?void 0:o.name)+" "}return 2===n?t+"Others":t}),""),l=a?d:"Other",u=null==r?void 0:r.split("-").slice(0,1);return{id:s,imagePoster:n?"".concat("https://image.tmdb.org/t/p/w500").concat(n):t(c),original_title:o,releaseYear:u,fullGenresNames:l}}))}s=o("dh4R1"),s=o("dh4R1");var l=o("9DJey");function u(t){return t.map((function(t){var e=t.id,n=t.imagePoster,a=t.original_title,o=t.releaseYear,r=t.fullGenresNames;return'<li  class="movie-card-item">\n    \t\t\t\t<div class="movie-poster__container">\n    \t\t\t\t\t<img src="'.concat(n,'" alt="poster" class="imagePoster" data-id="').concat(e,'"/>\n\t\t\t\t\t\t<div class="btn-box gallery">\n\t\t\t\t\t\t\t<button class="btn-watche gallery-btn" data-id="').concat(e,'" data-target="watched">add to <br class="transfer" />Watched</button>\n\t\t\t\t\t\t\t<button class="btn-queue gallery-btn" data-id="').concat(e,'" data-target="queue">add to queue</button>\n\t\t\t\t  \t\t</div> \n    \t\t\t\t</div>\n    \t\t\t\t<div class="movie-card-item__info">\n    \t\t\t\t\t<h2 class="movie-card-item__title" data-id="').concat(e,'">').concat(a,'</h2>\n    \t\t\t\t\t<p class="movie-card-item__text">').concat(r," | ").concat(o," </p>\n    \t\t\t\t</div>\n\t\t\t\t\t\t\n    \t\t\t</li>")})).join("")}var p,f=document.querySelector(".movie-card-list"),g=document.querySelector(".pagination"),m=document.querySelector(".movie-card-list"),v=0;function h(t,e){var n="",a=e-2,o=e-1,r=e+1,i=e+2;v=e,t<=1||(e>1&&(n+='<li class="pagination-item pagination-arrow">&laquo</li>'),e>3&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(n+='<li class="pagination-item pagination-pages">1</li>')),e>2&&(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e>4&&(n+='<li class="pagination-item">...</li>'),a>0&&(n+='<li class="pagination-item pagination-pages">'.concat(a,"</li>"))),o>0&&(n+='<li class="pagination-item pagination-pages">'.concat(o,"</li>")),n+='<li class="pagination-item pagination-pages current-page">'.concat(e,"</li>"),e<t&&(n+='<li class="pagination-item pagination-pages">'.concat(r,"</li>")),e<t-1&&(e<t-2&&(n+='<li class="pagination-item pagination-pages">'.concat(i,"</li>"),!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e<t-3&&(n+='<li class="pagination-item">...</li>')),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(n+='<li class="pagination-item pagination-pages">'.concat(t,"</li>"))),e<t&&(n+='<li class="pagination-item pagination-arrow">&raquo</li>'),g.innerHTML=n,g.addEventListener("click",b))}function b(e){if("LI"===e.target.nodeName){var n=e.target.textContent;switch(n){case"«":v-=1;break;case"»":v+=1;break;case"...":return;default:v=n}m.innerHTML="",t(l).start(),s.default.fetchGenresList().then((function(t){p=t})),s.input.value?s.default.movieSearch(v).then((function(e){t(l).done(),d(e.results,p),h(e.total_pages,e.page)})).catch((function(t){return console.log(t)})):(s.default.fetchTrendData(v).then((function(t){var e=u(d(t.results,p));f.insertAdjacentHTML("beforeend",e),h(t.total_pages,t.page),console.log(e)})).catch((function(t){return console.log(t)})),t(l).done())}}o("kaULx");var y,x=o("1vR0Z"),w=(s=o("dh4R1"),l=o("9DJey"),s=o("dh4R1"),document.querySelector(".form__search")),E=document.querySelector(".movie-card-list"),S=document.querySelector(".search__error");s.default.fetchGenresList().then((function(t){y=t})),null==w||w.addEventListener("submit",(function(e){if(e.preventDefault(),!s.input.value)return S.textContent="Search field is empty. Enter movie name and push search button",void(S.style.display="block");t(l).start(),s.default.movieSearch().then((function(e){0===e.total_results?(S.textContent="Search result is not successful. Enter the correct movie name and push search button",S.style.display="block"):(S.style.display="none",E.innerHTML="",g.innerHTML="",d(e.results,y),h(e.total_pages,e.page),t(l).done())})).catch((function(t){return console.log(t)})),t(l).done()}));l=o("9DJey");o("ghnK3");var _=o("e1ad9"),k=(x=o("1vR0Z"),document.querySelector(".mySwiper"));(0,x.default)(k);new(0,_.default)(".mySwiper",{modules:[_.Navigation,_.Autoplay],spaceBetween:5,breakpointsBase:"container",autoplay:{delay:2e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{210:{slidesPerView:2},600:{slidesPerView:6},768:{slidesPerView:8}}});var L=document.querySelector(".swiper-wrapper");var q,M,A={};function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}q="undefined"!=typeof self?self:void 0,M=function(t){t.addBackToTop=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.backgroundColor,n=void 0===e?"#000":e,a=t.cornerOffset,o=void 0===a?20:a,r=t.diameter,i=void 0===r?56:r,c=t.ease,s=void 0===c?D:c,d=t.id,l=void 0===d?"back-to-top":d,u=t.innerHTML,p=void 0===u?'<svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg>':u,f=t.onClickScrollTo,g=void 0===f?0:f,m=t.scrollContainer,v=void 0===m?document.body:m,h=t.scrollDuration,b=void 0===h?100:h,y=t.showWhenScrollTopIs,x=void 0===y?1:y,w=t.size,E=void 0===w?i:w,S=t.textColor,_=void 0===S?"#fff":S,k=t.zIndex,L=void 0===k?1:k,q=v===document.body,M=q&&document.documentElement;B();var A=P(),T=!0,C=q?window:v;function R(){j()>=x?H():O()}function H(){T&&(A.className="",T=!1)}function O(){T||(A.className="hidden",T=!0)}function P(){var t=document.createElement("div");return t.id=l,t.className="hidden",t.innerHTML=p,t.addEventListener("click",(function(t){t.preventDefault(),N()})),document.body.appendChild(t),t}function B(){var t=Math.round(.43*E),e=Math.round(.29*E),a="#"+l+"{background:"+n+";-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:"+o+"px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:"+_+";cursor:pointer;display:block;height:"+E+"px;opacity:1;outline:0;position:fixed;right:"+o+"px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:"+E+"px;z-index:"+L+"}#"+l+" svg{display:block;fill:currentColor;height:"+t+"px;margin:"+e+"px auto 0;width:"+t+"px}#"+l+".hidden{bottom:-"+E+"px;opacity:0}",r=document.createElement("style");r.appendChild(document.createTextNode(a)),document.head.insertAdjacentElement("afterbegin",r)}function N(){var t="function"==typeof g?g():g,e=window,n=e.performance,a=e.requestAnimationFrame;if(b<=0||void 0===n||void 0===a)return z(t);var o=n.now(),r=j(),i=r-t;a((function t(e){var n=Math.min((e-o)/b,1);z(r-Math.round(s(n)*i)),n<1&&a(t)}))}function j(){return v.scrollTop||M&&document.documentElement.scrollTop||0}function z(t){v.scrollTop=t,M&&(document.documentElement.scrollTop=t)}function D(t){return.5*(1-Math.cos(Math.PI*t))}C.addEventListener("scroll",R),R()}},"function"==typeof define&&define.amd?define(["exports"],M):"object"===T(A)&&"string"!=typeof A.nodeName?M(A):M(q.commonJsStrict={}),(0,A.addBackToTop)({diameter:40,backgroundColor:"#f7f7f7",textColor:"#FF6B01"});x=o("1vR0Z");var C,R=o("eMaQ6"),H=o("7LMqv"),O=document.querySelector(".movie-card-list");function P(){return(P=t(r)(t(i).mark((function e(n){var a,o;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.target.dataset.target){t.next=2;break}return t.abrupt("return");case 2:return a=n.target.dataset.id,t.next=5,s.default.fetchFullMovieInfo(a);case 5:if(o=t.sent,"watched"!==n.target.dataset.target){t.next=14;break}if(n.target.classList.toggle("pressed"),!n.target.classList.contains("pressed")){t.next=12;break}return n.target.textContent="Remove from Watched",(0,R.default)(o,x.watchedArr,n.target.dataset.target),t.abrupt("return");case 12:n.target.textContent="Add to Watched",(0,H.default)(a,x.watchedArr,n.target.dataset.target);case 14:if("queue"!==n.target.dataset.target){t.next=22;break}if(n.target.classList.toggle("pressed"),!n.target.classList.contains("pressed")){t.next=20;break}return n.target.textContent="Remove from Queue",(0,R.default)(o,x.queueArr,n.target.dataset.target),t.abrupt("return");case 20:n.target.textContent="Add to Queue",(0,H.default)(a,x.queueArr,n.target.dataset.target);case 22:case"end":return t.stop()}}),e)})))).apply(this,arguments)}t(l).start(),(0,x.default)(O),s.default.fetchGenresList().then((function(t){C=t})),s.default.fetchTrendData().then((function(e){var n,a,o=u(d(e.results,C));O.insertAdjacentHTML("beforeend",o),n=e.results,a=n.map((function(e){var n=e.poster_path,a=e.id,o=n?"".concat("https://image.tmdb.org/t/p/w500").concat(n):t(c);return'<div class="swiper-slide">\n\t\t\t\t<img src="'.concat(o,'" alt="poster" class="slide-poster" data-id="').concat(a,'"/>\n\t\t\t</div>')})).join(""),L.insertAdjacentHTML("beforeend",a);var r=document.querySelectorAll(".btn-watche"),i=document.querySelectorAll(".btn-queue");r.forEach((function(t){x.watchedArr.forEach((function(e){e.id===Number(t.dataset.id)&&(t.classList.add("pressed"),t.textContent="Remove from Watched")}))})),i.forEach((function(t){x.queueArr.forEach((function(e){e.id===Number(t.dataset.id)&&(t.classList.add("pressed"),t.textContent="Remove from Queue")}))})),h(e.total_pages,e.page)})).catch((function(t){return console.log(t)})),t(l).done(),O.addEventListener("click",(function(t){return P.apply(this,arguments)}))}();
//# sourceMappingURL=index.2fd10f62.js.map
