{"mappings":"gfAAAA,EAAA,S,6FASIC,EAAU,GACVC,EAAQ,GAENC,GAAO,EAAAC,EAAAC,WACPC,EAAO,CACXC,WAAYC,SAASC,cAAc,oBACnCC,cAAeF,SAASC,cAAc,iCACtCE,YAAaH,SAASC,cAAc,+BACpCG,eAAgBJ,SAASC,cAAc,oBACvCI,WAAYL,SAASC,cAAc,eACnCK,yBAA0BN,SAASC,cAAc,6BACjDM,aAAcP,SAASC,cAAc,iBAwBvC,SAASO,IACPC,eAAeC,QAAQ,2BAA4B,WACnDZ,EAAKI,cAAcS,UAAUC,IAAI,yBACjCd,EAAKK,YAAYQ,UAAUE,OAAO,yBAClC,IAAIC,EAAaC,aAAaC,QAAQ,WACtC,GAAIF,EACF,IACErB,EAAUwB,KAAKC,MAAMJ,GACrB,MAAOK,GACPC,QAAQC,IAAIF,GAG2C,YAAvDV,eAAeO,QAAQ,6BACzBM,EAAmB7B,GAIvB,SAAS8B,IACPd,eAAeC,QAAQ,2BAA4B,SACnDZ,EAAKK,YAAYQ,UAAUC,IAAI,yBAC/Bd,EAAKI,cAAcS,UAAUE,OAAO,yBACpC,IAAIW,EAAWT,aAAaC,QAAQ,SACpC,GAAIQ,EACF,IACE9B,EAAQuB,KAAKC,MAAMM,GACnB,MAAOL,GACPC,QAAQC,IAAIF,GAG2C,UAAvDV,eAAeO,QAAQ,6BACzBM,EAAmB5B,GAIvB,SAAS4B,EAAmBG,GAC1B,IAAMC,EAAgBC,OAAOC,WAC3B,6CAEIC,EAAgBF,OAAOC,WAC3B,8CAEIE,EAAiBH,OAAOC,WAAW,uBACzC,SAASG,EAAqBC,GACxBA,EAAGC,WACL,EAAAC,EAAAC,SAAcV,EAAOW,MAAM,EAAG,KAC9B,EAAAC,EAAAC,oBACA,EAAAD,EAAAE,qBAAoBd,EAAgB,EAAIe,KAAKC,KAAKhB,EAAOiB,OAAS,KAGtE,SAASC,EAAqBX,GACxBA,EAAGC,WACL,EAAAC,EAAAC,SAAcV,EAAOW,MAAM,EAAG,KAC9B,EAAAC,EAAAC,oBACA,EAAAD,EAAAE,qBAAoBd,EAAgB,EAAIe,KAAKC,KAAKhB,EAAOiB,OAAS,KAGtE,SAASE,EAAsBZ,GACzBA,EAAGC,WACL,EAAAC,EAAAC,SAAcV,EAAOW,MAAM,EAAG,KAC9B,EAAAC,EAAAC,oBACA,EAAAD,EAAAE,qBAAoBd,EAAgB,EAAIe,KAAKC,KAAKhB,EAAOiB,OAAS,KAGtEhB,EAAcmB,YAAYd,GAC1BF,EAAcgB,YAAYF,GAC1Bb,EAAee,YAAYD,GAC3Bb,EAAqBL,GACrBiB,EAAqBd,GACrBe,EAAsBd,GAzFxBhC,EAAKS,aAAauC,iBAAiB,SAEnC,SAAoB3B,GAClBA,EAAE4B,kBACF,EAAAnD,EAAAoD,SAAQrD,GACRgC,OAAOsB,SAAW,mBAGoB,OAApClC,aAAaC,QAAQ,aACvBlB,EAAKM,eAAe8C,UAAa,8EAEnC,EAAAC,EAAAhB,SAAUrC,EAAKC,YAC4C,UAAvDU,eAAeO,QAAQ,4BACzBO,IAEAf,IAGFV,EAAKI,cAAc4C,iBAAiB,QAAStC,GAC7CV,EAAKK,YAAY2C,iBAAiB,QAASvB,G","sources":["src/js/components/library/library.js"],"sourcesContent":["import '../../helpers/darkThema';\nimport '../../helpers/cursor';\nimport openModal from '../modal/modal-open';\nimport renderLibrary from '../../templates/movieCardLibrary';\nimport { renderPaginationBTN, resetPagination } from '../pagination/paginationLibrary';\nimport '../../team-modal';\nimport app from '../../helpers/initialize-firebase';\nimport { signOut, getAuth } from 'firebase/auth';\n\nlet watched = [];\nlet queue = [];\nlet page = 1;\nconst auth = getAuth();\nconst refs = {\n  moviesList: document.querySelector('.movie-card-list'),\n  watchedMovies: document.querySelector('button[data-action=\"watched\"]'),\n  queueMovies: document.querySelector('button[data-action=\"queue\"]'),\n  sectionLibrary: document.querySelector('.section-library'),\n  pagination: document.querySelector('.pagination'),\n  libraryNavigationLinkBtn: document.querySelector('.library-navigation__link'),\n  logoutLibBtn: document.querySelector('.nav__logout'),\n};\n\nrefs.logoutLibBtn.addEventListener('click', logoutUser);\n\nfunction logoutUser(e) {\n  e.preventDefault();\n  signOut(auth);\n  window.location = '../index.html';\n}\n\nif (localStorage.getItem('watched') === null) {\n  refs.sectionLibrary.innerHTML = `<h3 class=\"empty-container\">Sorry, but this section is still empty:(</h3>`;\n}\nopenModal(refs.moviesList);\nif (sessionStorage.getItem('last-pressed-library-btn') === 'queue') {\n  onQueueMoviesClick();\n} else {\n  onWatchedMoviesClick();\n}\n\nrefs.watchedMovies.addEventListener('click', onWatchedMoviesClick);\nrefs.queueMovies.addEventListener('click', onQueueMoviesClick);\n\nfunction onWatchedMoviesClick() {\n  sessionStorage.setItem('last-pressed-library-btn', 'watched');\n  refs.watchedMovies.classList.add('library-btn__isActive');\n  refs.queueMovies.classList.remove('library-btn__isActive');\n  let watchedKey = localStorage.getItem('watched');\n  if (watchedKey) {\n    try {\n      watched = JSON.parse(watchedKey);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n  if (sessionStorage.getItem('last-pressed-library-btn') === 'watched') {\n    changeScreenDevice(watched);\n  }\n}\n\nfunction onQueueMoviesClick() {\n  sessionStorage.setItem('last-pressed-library-btn', 'queue');\n  refs.queueMovies.classList.add('library-btn__isActive');\n  refs.watchedMovies.classList.remove('library-btn__isActive');\n  let queueKey = localStorage.getItem('queue');\n  if (queueKey) {\n    try {\n      queue = JSON.parse(queueKey);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n  if (sessionStorage.getItem('last-pressed-library-btn') === 'queue') {\n    changeScreenDevice(queue);\n  }\n}\n\nfunction changeScreenDevice(arrays) {\n  const mediaQuery320 = window.matchMedia(\n    '(min-width: 320px) and (max-width: 767px)'\n  );\n  const mediaQuery768 = window.matchMedia(\n    '(min-width: 768px) and (max-width: 1023px)'\n  );\n  const mediaQuery1024 = window.matchMedia('(min-width: 1024px)');\n  function mediaQuery320Handler(mq) {\n    if (mq.matches) {\n      renderLibrary(arrays.slice(0, 4));\n      resetPagination();\n      renderPaginationBTN(arrays, (page = 1), Math.ceil(arrays.length / 4));\n    }\n  }\n  function mediaQuery768Handler(mq) {\n    if (mq.matches) {\n      renderLibrary(arrays.slice(0, 8));\n      resetPagination();\n      renderPaginationBTN(arrays, (page = 1), Math.ceil(arrays.length / 8));\n    }\n  }\n  function mediaQuery1024Handler(mq) {\n    if (mq.matches) {\n      renderLibrary(arrays.slice(0, 9));\n      resetPagination();\n      renderPaginationBTN(arrays, (page = 1), Math.ceil(arrays.length / 9));\n    }\n  }\n  mediaQuery320.addListener(mediaQuery320Handler);\n  mediaQuery768.addListener(mediaQuery768Handler);\n  mediaQuery1024.addListener(mediaQuery1024Handler);\n  mediaQuery320Handler(mediaQuery320);\n  mediaQuery768Handler(mediaQuery768);\n  mediaQuery1024Handler(mediaQuery1024);\n}\n"],"names":["parcelRequire","$cacade2d783249ec$var$watched","$cacade2d783249ec$var$queue","$cacade2d783249ec$var$auth","$3SEMc","getAuth","$cacade2d783249ec$var$refs","moviesList","document","querySelector","watchedMovies","queueMovies","sectionLibrary","pagination","libraryNavigationLinkBtn","logoutLibBtn","$cacade2d783249ec$var$onWatchedMoviesClick","sessionStorage","setItem","classList","add","remove","watchedKey","localStorage","getItem","JSON","parse","e","console","log","$cacade2d783249ec$var$changeScreenDevice","$cacade2d783249ec$var$onQueueMoviesClick","queueKey","arrays","mediaQuery320","window","matchMedia","mediaQuery768","mediaQuery1024","mediaQuery320Handler","mq","matches","$eZz2b","default","slice","$JyU8w","resetPagination","renderPaginationBTN","Math","ceil","length","mediaQuery768Handler","mediaQuery1024Handler","addListener","addEventListener","preventDefault","signOut","location","innerHTML","$68IFE"],"version":3,"file":"library.9617ea5a.js.map"}